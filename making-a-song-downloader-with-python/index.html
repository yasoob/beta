<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Yasoob Khalid | Making a song downloader with python</title>
  <meta property="og:type" content="article" />
  <link rel="alternate" type="application/rss+xml" title="Bite Sized Python Tips Â» Feed" href="../feeds/all.atom.xml">
  <meta property="article:publisher" content="https://www.facebook.com/freepythontips">
  <meta property="article:author" content="https://www.facebook.com/profile.php?id=1530901081">
  <meta property="og:image" content="http://0.gravatar.com/blavatar/6c1d474724ac198295b95c49642a34b3?s=200">
  <meta name="twitter:site" content="@yasoobkhalid">
  <meta name="description" content="Hi there folks. Some time ago i was very much interested in how music downloaders for various websites worked. In order to learn this i went forward to make my own downloader for ex.fm . Currently ex.fm does not allow users to download songs so this was a very ..." />
    <meta property="article:tag" content="downloader" />
    <meta property="article:tag" content="python" />
    <meta property="article:tag" content="script" />
    <meta property="article:tag" content="searcher" />
    <meta property="article:tag" content="song" />
    <meta property="article:tag" content="tutorial" />
    <link rel="stylesheet" media="screen and (min-width: 100px) and (max-width: 701px)" href="../theme/css/mobile.css">
    <link rel="stylesheet" media="screen and (min-width: 701px)" href="../theme/css/main.css">
    <link rel="stylesheet" href="../theme/css/pygment.css" />
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:300|Gudea|Josefin+Sans|Open+Sans|Raleway:800,200' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="../images/favicon.ico">
    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--> 
</head>
<body>
    <div class="header">
        <div class="container">
            <ul class="menu">
                    <li><a href="../about">About</a></li> 
                    <li><a href="../pycrumbs">Beginner's Delight</a></li> 
                    <li><a href="../python-news">News</a></li> 
            </ul>
            <section class="name">
                <a href="..">Py<b>Tips</b></a>
            </section>
        </div>
    </div>
    <section class="container content">
  <div class="title">
    <h1>Making a song downloader with python</h1>
    <div class="when">
        August 13,2013
    </div>
  
  </div>

<div class="entry-content">
  <p>Hi there folks. Some time ago i was very much interested in how music
downloaders for various websites worked. In order to learn this i went
forward to make my own downloader for ex.fm . Currently ex.fm does not
allow users to download songs so this was a very good chance for me to
learn<!--more--> song downloading with python. During this process i
also came forward to youtube-dl. It is a python script which allows
anyone to download music and videos from numerous websites. Now let me
tell you how i went forward to make this downloader.</p>
<p>
First of all I opened ex.fm in chrome and also started chrome web
inspector to intercept network calls. Then i clicked on a song for it to
play. When the song started to play i saw the XHR requests made by ex.fm
. There i saw a request being made to

    ex.fm/api

. This was interesting because most websites use apis to provide info
for specific songs. I opened the link and saw that the link returned
json data with direct link to the song. That way i came to know the url
used by ex.fm to get the direct link to the song.

<p>
After that I wanted to know how to automate song searching from python.
For this i again opened ex.fm and chrome web inspector. This time
instead of playing a song i clicked on search and searched for a song.
Again a url got my attention. It was

    http://ex.fm/api/v3/song/search/{search term}?start=0&results=20

. This url also returned json response. After i became aware of these
two urls i started to write a python script to automate this. I used
only three libraries and all three of them come preinstalled with python
(batteries included). These three libraries were

    urllib2 
    json
    sys

I won't be explaining the code here instead i will give you the code
itself. If you have any questions about the code feel free to comment
below. Lastly let me make it clear that this script can be written in
better ways but i just made it for learning purposes.

[Here is the link][] to the github repository.

  [Here is the link]: https://github.com/yasoob/ex.fm-dl
  <p class="taglist">
    <a href="../tag/downloader.html">downloader</a>
    <a href="../tag/python.html">python</a>
    <a href="../tag/script.html">script</a>
    <a href="../tag/searcher.html">searcher</a>
    <a href="../tag/song.html">song</a>
    <a href="../tag/tutorial.html">tutorial</a>
  </p>
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-529a3f497b3e7850"></script>
<!-- AddThis Button END -->    </div>
    
    <a href="https://plus.google.com/105844092190217759857?rel=author"></a>
  </article>
</section>
        <section class="meta">
            <a class="block" href="https://twitter.com/yasoobkhalid">
                <i class="fa fa-twitter fa-fw"></i>
            </a>
            <a class="block" href="https://facebook.com/m.yasoob">
                <i class="fa fa-facebook fa-fw"></i>
            </a>
            <a class="block" href="mailto:yasoob.khld@gmail.com">
                <i class="fa fa-envelope fa-fw"></i>
            </a>
            <a class="block" href="https://github.com/yasoob">
                <i class="fa fa-github-alt fa-fw"></i>
            </a>
            <div style="clear: both"></div>
        </section>
    </section>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46059954-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>