<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Yasoob Khalid | What is Pickle in python ?</title>
  <meta property="og:type" content="article" />
  <link rel="alternate" type="application/rss+xml" title="Bite Sized Python Tips » Feed" href="../feeds/all.atom.xml">
  <meta property="article:publisher" content="https://www.facebook.com/freepythontips">
  <meta property="article:author" content="https://www.facebook.com/profile.php?id=1530901081">
  <meta property="og:image" content="http://0.gravatar.com/blavatar/6c1d474724ac198295b95c49642a34b3?s=200">
  <meta name="twitter:site" content="@yasoobkhalid">
  <meta name="description" content="Hi there fellas. In this post i am going to tell you about pickle. It is used for serializing and de-serializing a Python object structure. Any object in python can be pickled so that it can be saved on disk. What pickle does is that it “serialises” the object first ..." />
    <meta property="article:tag" content="data serialization" />
    <meta property="article:tag" content="deserialize" />
    <meta property="article:tag" content="pickle" />
    <meta property="article:tag" content="python" />
    <meta property="article:tag" content="serialize" />
    <link rel="stylesheet" media="screen and (min-width: 100px) and (max-width: 701px)" href="../theme/css/mobile.css">
    <link rel="stylesheet" media="screen and (min-width: 701px)" href="../theme/css/main.css">
    <link rel="stylesheet" href="../theme/css/pygment.css" />
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:300|Gudea|Josefin+Sans|Open+Sans|Raleway:800,200' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="../images/favicon.ico">
    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--> 
</head>
<body>
    <div class="header">
        <div class="container">
            <ul class="menu">
                    <li><a href="../about">About</a></li> 
                    <li><a href="../pycrumbs">Beginner's Delight</a></li> 
                    <li><a href="../python-news">News</a></li> 
            </ul>
            <section class="name">
                <a href="..">Py<b>Tips</b></a>
            </section>
        </div>
    </div>
    <section class="container content">
  <div class="title">
    <h1>What is Pickle in python ?</h1>
    <div class="when">
        August 02,2013
    </div>
  
  </div>

<div class="entry-content">
  <p>Hi there fellas. In this post i am going to tell you about pickle. It is
used for serializing and de-serializing a Python object structure. Any
object in python can be pickled so that it can be saved on disk. What
pickle does is that<!--more--> it “serialises” the object first before
writing it to file. Pickling is a way to convert a python object (list,
dict, etc.) into a character stream. The idea is that this character
stream contains all the information necessary to reconstruct the object
in another python script.</p>
<p>So lets continue:</p>
<p><strong>1.</strong> First of all you have to import it through this command:</p>
<div class="highlight"><pre><span class="n">import</span> <span class="n">pickle</span>
</pre></div>


<p>pickle has two main methods. The first one is dump, which dumps an
object to a file object and the second one is load, which loads an
object from a file object.</p>
<p><strong>2.</strong> Prepare something to pickle:<br />
Now you just have to get some data which you can pickle. For the sake
of simplicity i will be pickling a python dictionary. So just read the
below code and you will be able to figure it out yourself.</p>
<div class="highlight"><pre><span class="n">import</span> <span class="n">pickle</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="err">&#39;</span><span class="n">test</span> <span class="n">value</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">2</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">3</span><span class="err">&#39;</span><span class="p">]</span>
<span class="n">a</span>
<span class="p">[</span><span class="err">&#39;</span><span class="n">test</span> <span class="n">value</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">2</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">3</span><span class="err">&#39;</span><span class="p">]</span>

<span class="n">file_Name</span> <span class="o">=</span> <span class="s">&quot;testfile&quot;</span>
<span class="cp"># open the file for writing</span>
<span class="n">fileObject</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">file_Name</span><span class="p">,</span><span class="err">&#39;</span><span class="n">wb</span><span class="err">&#39;</span><span class="p">)</span>

<span class="cp"># this writes the object a to the</span>
<span class="cp"># file named &#39;testfile&#39;</span>
<span class="n">pickle</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">fileObject</span><span class="p">)</span>

<span class="cp"># here we close the fileObject</span>
<span class="n">fileObject</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="cp"># we open the file for reading</span>
<span class="n">fileObject</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">file_Name</span><span class="p">,</span><span class="sc">&#39;r&#39;</span><span class="p">)</span>  
<span class="cp"># load the object from the file into var b</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">pickle</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">fileObject</span><span class="p">)</span>  
<span class="n">b</span>
<span class="p">[</span><span class="err">&#39;</span><span class="n">test</span> <span class="n">value</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">2</span><span class="sc">&#39;,&#39;</span><span class="n">test</span> <span class="n">value</span> <span class="mi">3</span><span class="err">&#39;</span><span class="p">]</span>
<span class="n">a</span><span class="o">==</span><span class="n">b</span>
<span class="n">True</span>
</pre></div>


<p>The above code is self explanatory. It shows you how to import the
pickled object and assign it to a variable. So now we need to know where
we should use pickling. It is very useful when you want to dump some
object while coding in the python shell. So after dumping whenever you
restart the python shell you can import the pickled object and
deserialize it. But there are other use cases as well which i found on
<a href="http://stackoverflow.com/questions/3438675/common-use-of-pickle-in-python">stackoverflow</a>. Let me list them below.  </p>
<p><code>1) saving a program's state data to disk so that it can carry on where it left off when restarted (persistence)</code></p>
<p>\2) sending python data over a TCP connection in a multi-core or
distributed system (marshalling)</p>
<p>\3) storing python objects in a database</p>
<p>\4) converting an arbitrary python object to a string so that it can be
used as a dictionary key (e.g. for caching &amp; memoization).<br />
</code></p>
<p>One thing to note is that there is a brother of pickle as well with the
name of cpickle. As the name suggests it is written in c which makes it
1000 times more faster than pickle. So why should we ever use pickle
instead of cpickle ? Here's the reason  </p>
<p><code>&gt;&gt;&gt; Because pickle handles unicode objects. &gt;&gt;&gt; Because pickle is written in pure Python, it's easier to debug.</code></p>
<p>For further reading i suggest the <a href="http://docs.python.org/2/library/pickle.html">official pickle documentation</a> or
if you want to read more tutorials then check out the <a href="http://freepythontips.wordpress.com/2013/08/01/connecting-to-sqlite-databases/">sqlite
tutorial</a>. Now we come to the end of today's post. I hope you liked
it. Do follow my blog to get regular updates. If you have any
suggestions or comments then post them below.</p>
  <p class="taglist">
    <a href="../tag/data-serialization.html">data serialization</a>
    <a href="../tag/deserialize.html">deserialize</a>
    <a href="../tag/pickle.html">pickle</a>
    <a href="../tag/python.html">python</a>
    <a href="../tag/serialize.html">serialize</a>
  </p>
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_preferred_1"></a>
<a class="addthis_button_preferred_2"></a>
<a class="addthis_button_preferred_3"></a>
<a class="addthis_button_preferred_4"></a>
<a class="addthis_button_compact"></a>
<a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-529a3f497b3e7850"></script>
<!-- AddThis Button END -->    </div>
    
    <a href="https://plus.google.com/105844092190217759857?rel=author"></a>
  </article>
</section>
        <section class="meta">
            <a class="block" href="https://twitter.com/yasoobkhalid">
                <i class="fa fa-twitter fa-fw"></i>
            </a>
            <a class="block" href="https://facebook.com/m.yasoob">
                <i class="fa fa-facebook fa-fw"></i>
            </a>
            <a class="block" href="mailto:yasoob.khld@gmail.com">
                <i class="fa fa-envelope fa-fw"></i>
            </a>
            <a class="block" href="https://github.com/yasoob">
                <i class="fa fa-github-alt fa-fw"></i>
            </a>
            <div style="clear: both"></div>
        </section>
    </section>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46059954-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>